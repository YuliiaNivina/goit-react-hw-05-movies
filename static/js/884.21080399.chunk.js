"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[884],{884:function(e,t,n){n.r(t);var r=n(439),c=n(791),a=n(689),s=n(87),i=n(565),o=n(184);t.default=function(){var e,t,n,u,l,p,d=(0,a.UO)().movieId,h=(0,c.useState)(null),v=(0,r.Z)(h,2),f=v[0],m=v[1],x=(0,c.useState)(!1),w=(0,r.Z)(x,2),j=w[0],g=w[1],y=(0,c.useState)(null),_=(0,r.Z)(y,2),k=_[0],b=_[1],Z=(0,a.TH)();if((0,c.useEffect)((function(){d&&(g(!0),i.Mc(d).then(m).catch((function(e){return b(e.message)})).finally((function(){return g(!1)})))}),[d]),!f)return(0,o.jsx)("div",{children:"Loading..."});var U=f.poster_path,F=f.title,N=f.genres,S=f.id,A=f.vote_average,C=f.overview,D=f.release_date,I={genres:N.length<=3?N.map((function(e){return e.name})).join(" "):N.map((function(e){return e.name})).slice(0,2).join(" ")+" Other",voteAverage:10*A.toFixed(1),overview:C,releaseDate:D.slice(0,4)},O=null!==(e=null===(t=Z.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/";return(0,o.jsxs)(o.Fragment,{children:[k&&(0,o.jsxs)("p",{children:["Whoops, something went wrong: ",k.message]}),j&&(0,o.jsx)("p",{children:"Loading..."}),(0,o.jsx)(s.rU,{to:O,children:"Go back"}),f&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"movieById__container",children:[(0,o.jsx)("img",{className:"poster__foto",src:U?"https://image.tmdb.org/t/p/w500".concat(U):"https://www.restorixhealth.com/wp-content/uploads/2018/08/No-Image.png",alt:F,width:"250"}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("h2",{children:[F," ",(0,o.jsxs)("span",{children:["(",I.releaseDate,")"]})]}),(0,o.jsxs)("p",{children:["User Score: ",I.voteAverage,"%"]}),(0,o.jsx)("h2",{children:"Overview"}),(0,o.jsx)("p",{children:I.overview}),(0,o.jsx)("h3",{children:"Genres"}),(0,o.jsx)("p",{children:I.genres})]})]}),(0,o.jsxs)("div",{className:"movie__info",children:[(0,o.jsx)("h3",{children:"Additional information"}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:(0,o.jsx)(s.rU,{to:"/movies/".concat(S,"/cast"),state:null!==(n={from:null===(u=Z.state)||void 0===u?void 0:u.from})&&void 0!==n?n:"/",children:"Cast"})}),(0,o.jsx)("li",{children:(0,o.jsx)(s.rU,{to:"/movies/".concat(S,"/reviews"),state:null!==(l={from:null===(p=Z.state)||void 0===p?void 0:p.from})&&void 0!==l?l:"/",children:"Reviews"})})]})]}),(0,o.jsx)(a.j3,{})]})]})}},565:function(e,t,n){n.d(t,{D2:function(){return l},FE:function(){return x},Hx:function(){return f},Mc:function(){return d},uV:function(){return h}});var r=n(861),c=n(757),a=n.n(c),s=n(243),i="de2f3a0c57a311cc48a85909660d7281",o="https://api.themoviedb.org/3",u=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r,c=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",e.prev=1,e.next=4,s.Z.get(t);case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();function l(){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("".concat(o,"/trending/movie/day?api_key=").concat(i));case 2:return t=e.sent,e.abrupt("return",t.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return u("".concat(o,"/movie/").concat(e,"?api_key=").concat(i))}function h(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("".concat(o,"/movie/").concat(t,"/credits?api_key=").concat(i));case 2:return n=e.sent,e.abrupt("return",n.cast);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("".concat(o,"/movie/").concat(t,"/reviews?api_key=").concat(i));case 2:return n=e.sent,e.abrupt("return",n.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return w.apply(this,arguments)}function w(){return(w=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("".concat(o,"/search/movie?query=").concat(t,"&api_key=").concat(i));case 2:return n=e.sent,e.abrupt("return",n.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=884.21080399.chunk.js.map